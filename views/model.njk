{% extends "page.njk" %}

{% block body %}
    <section class="section">
        <div class="container">
            <h1 class="title">
                Namespace {{modelFile.getNamespace()}}
            </h1>
            <p class="subtitle">
                Found {{modelFile.getAllDeclarations().length}} declarations!
            </p>

            <p>
                <a href="{{filePath}}.cto" class="button is-rounded">Download CTO</a>
                <a href="{{filePath}}.puml" class="button is-rounded">Download UML</a>
                <a href="{{filePath}}.json" class="button is-rounded">Download JSON Schema</a>
                <a href="{{modelFile.getNamespace()}}.ts" class="button is-rounded">Download Typescript</a>
                <a href="{{filePath}}.jar" class="button is-rounded">Download Java</a>
                <a href="{{filePath}}.zip" class="button is-rounded">Download Go</a>
            </p>

            <img src="{{umlURL}}" />

            <h2 class="title is-2">Exported Types</h2>
            <div class="content">
                <pre>
{% for decl in modelFile.getAllDeclarations() %}import {{decl.getFullyQualifiedName()}} from {{serverRoot}}{{filePath}}.cto
{% endfor %}
            </pre>
            </div>

            <h2 class="title is-2">Dependencies</h2>
            <div class="content">
                <ul>
                {% for ns, uri in modelFile.getExternalImports() %}
                <li><a href="{{uri | replace(".cto", ".html")}}">{{ns}}</a></li>
                {% endfor %}
                </ul>
            </div>

            <h2 class="title is-2">Source</h2>
            <div class="content">
            <pre>
{{modelFile.getDefinitions()}}
</pre>
        </div>
    </section>
{% endblock %}